\documentclass[a4paper, 10pt]{article}
\usepackage[a4paper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}
\usepackage{fullpage}
\usepackage{enumitem}

\usepackage{tabularx}
\usepackage[table,xcdraw]{xcolor}

\usepackage{booktabs}
\usepackage[hidelinks=true]{hyperref}

\renewcommand*\rmdefault{phv}
\begin{document}
\noindent
\large\textbf{User Requirements Specification} \hfill \textbf{TC} \\
\normalsize Software Documentation: \texttt{gel2mdt }\hfill Version 0.94 (\today) \\

\tableofcontents

\section{Introduction}
\subsection{Purpose}
This is the User Requirements Specification (URS) document for the \texttt{gel2mdt} project. The project aims to create a database to store data from the GeL CIP-API alongside patient demographic information and information about clinical workflow steps then subsequently display this data to clinical scientists thereby facilitating the reporting of variants.

\subsection{Scope}
This document outlines the requirements identified by proposed users of \texttt{gel2mdt}. The intended readership is West Midlands Regional Genetics Laboratories (WMRGL) clinical scientists, Great Ormond Street Hospital (GOSH) clinical scientists, and the project developers.

\subsection{Definitions \& Abbreviations}
\begin{description}[align=right,labelwidth=2cm]
    \setlength\itemsep{-0.3em}
    \item [FRS] Functional Requirements Specification
    \item [GOSH] Great Ormond Street Hospital
    \item [KPI] Key performance indicator
    \item [RTM] Requirement Traceability Matrix
    \item [URS] User Requirements Specification
    \item [WMRGL] West Midlands Regional Genetics Laboratories
\end{description}

\subsection{Named people}
\begin{description}[align=right,labelwidth=2cm]
    \setlength\itemsep{-0.3em}
    \item [HA]  Helena Ahlfors --- Project Lead
    \item [SC]  Samuel Clokie --- Project Lead
    \item [ES]  Edward Stone --- Developer
    \item [PL]  Patrick Lombard --- Developer
    \item [TC]  Theo Cole --- Developer
\end{description}




\newgeometry{top=1cm,bottom=1cm,left=1cm,right=1cm}
\pagenumbering{gobble}
\section{User Requirements Specification}
\renewcommand*{\arraystretch}{1.3}
\begin{table}[h!]
    \centering
    \label{tab:urs}
    \begin{tabularx}{\textwidth}{@{}l>{\hsize=.575\hsize}X>{\hsize=1.425\hsize}Xl@{}}
        \rowcolor[HTML]{333333} 
        {\color[HTML]{FFFFFF} \#} & {\color[HTML]{FFFFFF} Requirement Title} & {\color[HTML]{FFFFFF} Requirement Details}                                                                                            & {\color[HTML]{FFFFFF} Trust} \\
        \rowcolor[HTML]{C0C0C0} 
        Functional
        &
        &
        &
        \\
        1.1.1
        & Storage and display of all patients within the GeL CIP-API.
        & Data stored should include proband ID, family ID, interpretation ID, date last updated, CIP name, and the site code.
        & Both
        \\
        1.1.2
        & Storage and display of case data for all with certain status types.
        & If the status type of a patient is `sent to gmcs', `report generated', or `report sent' then case data should also be retrieved from GeL CIP-API.
        & Both
        \\
        1.1.3
        & Demographic information should be stored.
        & (i) For patients described in 1.1.2, demographic information should also be pulled from LabKey or the the Trust's LIMS. (ii) Users need to be able to manually specify a lab ID number, clinical scientist name, CGU number, and comments about the patient.
        & Both
        \\
        1.1.4
        & Flag high priority cases.
        & Cases with Tier 1, Tier 2, or Promoted variants should be flagged for review by clinical scientists.
        & Both
        \\
        1.1.5
        & Facilitate variant review
        & Details required for variant review should be pulled from GeL CIP-API and other necessary sources to facilate the review of variants. These should include genomic position, nomenclature (including HGVS), tier, and pathogenic information.
        & Both
        \\
        1.1.6
        & Confirm and report variants 
        & (i) When reviewing variants, users need to be able to set a variant as `Confirmed'. (ii) Additionally, users need to be able to set a variant as `Included in Report'. (iii) Once a variant has been reviewed, a second clinical scientist user should be able to perform and record the results from a second check. (iv) Any variants that still require a second check should be flagged for checking.
        & WMRGL
        \\
        1.1.7
        & Assign cases for MDT
        & Users should be able to assign each case an MDT value: `required', `not required', `in progress', `done'.
        & Both
        \\
        1.1.8
        & View list of patients requiring MDT
        & Users should be able to quickly get a list of all patients who have been flagged for MDT and have yet to go through the MDT process.
        & Both
        \\
        1.1.9
        & Manage MDT cases
        & Users should be able to view an MDT screen for each patient requiring MDT, where they can input decisions made at each MDT and record attendees of the MDT.
        & Both
        \\
        1.1.10
        & Design primers
        & When viewing any particular variant, users should be able to press a button to design primers for that variant.
        & WMRGL
        \\
        1.1.11
        & Provide audit trail
        & Any changes to information in the database should be recorded along with the user who made the change.
        & Both
        \\
        1.1.12
        & Provide monthly statistics
        & At the end of each month, the following statistics should be generated and displayed: (i) no. cases total/by status: returned to GMC, to review, to close, archived; (ii) no. cases not started review; (iii) no. cases awaiting MDT (MDT required but not complete); (iv) no. patients with variants awaiting confirmation \& with confirmed variants; (v) no. cases to be reported; (vi) no. cases added to archive.
        & Both
        \\
        \rowcolor[HTML]{C0C0C0} 
        Non-functional
        &
        &                                                                                                                           &
        \\
        1.2.1
        & Availibility
        & The webapp should be available for use at all times during standard working hours.
        & Both
        \\
        1.2.2
        & Accessibility
        & The webapp should be accessible from any trust computer without the need for installation of any software.
        & Both
        \\
        \rowcolor[HTML]{C0C0C0}
        Constraints
        &
        &                                                                                                                           &
        \\
        1.3.3
        & Deployment
        & The webapp and database should be fully deployable following standard deployment procedures at both GOSH and WMRGL.   
        & Both
        \\ 

        \bottomrule
    \end{tabularx}
\end{table}

\newpage


\newgeometry{top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm}
\section{Version Changes}
\begin{description}
            \item [0.94] \begin{itemize}
                                \renewcommand\labelitemi{--}
                                        \item Added details of MDT statuses to 1.1.7.
                                                    \item Created 1.1.12 (Monthly statistics)
                                                            \end{itemize}
                                                                \rule{\textwidth}{1pt}
                                                                    \item [0.93] \begin{itemize}
                                                                                        \renewcommand\labelitemi{--}
                                                                                                \item Added CS name, CGU number, and comments box requierment to 1.1.3(ii).
                                                                                                            \item Added variant information to 1.1.5.
                                                                                                                        \item Renamed `confirm' and `report' to `Confirmed' and `Included in Report' in 1.1.6.
                                                                                                                                    \item Added flagging of second checks to 1.1.6.
                                                                                                                                                \item Created 1.1.11 (Audit).
                                                                                                                                                        \end{itemize}
                                                                                                                                                            \rule{\textwidth}{1pt}
                                                                                                                                                                \item [0.92] \begin{itemize}
                                                                                                                                                                                    \renewcommand\labelitemi{--}
                                                                                                                                                                                            \item Reformatted document.
                                                                                                                                                                                                        \item Moved technical requirements to FRS.
                                                                                                                                                                                                                    \item Added Trust column.
                                                                                                                                                                                                                            \end{itemize}
                                                                                                                                                                                                                                \rule{\textwidth}{1pt}
                                                                                                                                                                                                                                    \item [0.91] \begin{itemize}
                                                                                                                                                                                                                                                        \renewcommand\labelitemi{--}
                                                                                                                                                                                                                                                                \item Initialised document
                                                                                                                                                                                                                                                                        \end{itemize}
\end{description}
\end{document}
